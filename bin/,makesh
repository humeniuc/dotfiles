#!/bin/bash

SCRIPT_DIR="$(dirname "$( readlink -f "${BASH_SOURCE[0]}" )")"

_error_message() {
    [ -n "$1" ] && {
        echo "$1" >&2
        command -v /bin/notify-send >/dev/null && notify-send -- "$1"
    }
}

_exit() {
    [ -n "$1" ] && _error_message "$1"
    exit "${2:-1}"
}

main()
{   
    if [ ! $# -eq 1 ]; then
        _exit ",makesh takes one argument"
    elif [ -e "$1" ]; then
        _exit "$1 already exists"
    fi

    cat "${DOTFILES_PATH}/sample/bash_script.sample" > "$1"

    chmod u+x "$1"
    echo "$(pwd)/$1 was created"
}

main "$@"
